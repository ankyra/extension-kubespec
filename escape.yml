name: extension-kubespec
version: 0.2.@
description: |
  A release to work with Kubernetes spec files. This release consumes a
  Kubernetes cluster and uses kubectl to deploy and destroy the spec files.

logo: logo.png

depends:
- stdlib-latest

consumes:
- name: kubernetes
  scopes:
  - deploy

inputs:
- id: kubecfg_path
  default: $kubernetes.outputs.kubernetes_kubectl.file
  description: |
    The path to the Kubernetes Configuration file (e.g. ~/.kube/config)
  friendly: Kubernetes Configuration File path
  scopes: [deploy]
  sensitive: true
  type: string
  visible: false

- id: kube_spec_files
  default: []
  description: |
    A list of Kubernetes spec files. If left empty then all YAML files in  the
    current directory will be submitted.
  friendly: Kubernetes Spec Files
  scopes: [deploy]
  type: list[string]

metadata:
  kubectl_version: 1.6.4

deploy: apply_specs.py
